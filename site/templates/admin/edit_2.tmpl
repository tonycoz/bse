<html>
<head>

  <title>
    Administration - <: ifnew :>New<: or :>Edit<: eif :> <:articleType:>
  </title>

  <link rel="stylesheet" type="text/css" href="/css/admin.css">

</head>

<body>

  <input type="button" onclick="history.go(0);" value="  Refresh  ">

  <h1>Administration Page</h1>

  <h2>Select Images First</h2>

  <p><form enctype="multipart/form-data" method="POST" action="<:script:>">

  <p>
  <input type="submit" name="artimg" value="<:articleType:> Image Wizard">
  </p>


  <h2><:articleType:> Details</h2>

  <p><:message:> | <a href="/admin/">Admin menu</a> | <:ifnew:><:or:><a href="<:article admin:>">See article</a> | <:eif:><:editParent:>
<input type="hidden" name="level" value="<: level :>">
    <input type="hidden" name="id" value="<: article id :>">

  </p>
<table border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
    <tr>
      <td>

        <table cellpadding="6" border="0" cellspacing="1">
          <tr> 
            <th> <:parentType:>: </th>
            <td bgcolor="#FFFFFF"> 
              <select name="parentid">
                <option value="">Please Select a <: parentType :> <: ifart :><: 
                list subsections :><:or:><:list sections:><:eif:> 
              </select>
            </td>
          </tr>
          <tr> 
            <th> <:articleType:> Title: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="title" maxlength="64" size="64" value="<: article title :>">
            </td>
          </tr>
          <tr> 
            <th> Template: </th>
            <td bgcolor="#FFFFFF"> 
              <:templates:>
            </td>
          </tr>
          <tr> 
            <th valign="top"> Body: </th>
            <td bgcolor="#FFFFFF"> 
              <textarea name="body" rows="10" cols="60" wrap="virtual"><: article body :></textarea>
            </td>
          </tr>
          <tr> 
            <th> Release Date: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="release" value="<: article release :>" size="10" maxlength="10">
              (dd/mm/yyyy<: ifnew :> - default is today<: or :><: eif :>)</td>
          </tr>
          
          
          <tr> 
            <th> Expire Date: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="expire" value="<: article expire :>" size="10" maxlength="10">
              (dd/mm/yyyy - <: ifnew :>default is never, <: or :><: eif :>)</td>
          </tr>
          <tr> 
            <th> Summary Length: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="summaryLength" size="10" maxlength="10" value="<: article summaryLength :>">
              (in characters - <: ifnew :>default inherited from section<: if art :> or sub-section<: 
              or art :><: eif art :>, <: or :><: eif :>zero for no 
              summary)</td>
          </tr>
          
          <tr> 
            <th> Display threshold: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="threshold" size="10" maxlength="10" value="<: article threshold :>">
            </td>
          </tr>
          <tr> 
            <th> Keywords: </th>
            <td bgcolor="#FFFFFF"> 
              <input type="text" name="keyword" maxlength="255" size="60" value="<: article keyword :>">
               (comma separated)
            </td>
          </tr>
          
          
          
          
          
          <tr> 
            <th>List article:</th>
            <td bgcolor="#FFFFFF">
              <:list listed:> </td>
          </tr>
          <tr> 
            <th>Thumbnails:</th>
            <td bgcolor="#FFFFFF"> 
              <input type=file name=thumbnail>
              <:ifArticle thumbImage:><img src="/images/<:article thumbImage:>"> <input type=checkbox name="remove_thumb"> Remove<:or:><:eif:></td>
          </tr>
          <tr> 
            <th valign="top"> Uploaded files: </th>
            <td align="center" bgcolor="#FFFFFF"> <: iterator begin images :> <img src="/images/<: image image :>" alt="<:image alt :>" width=<:image width:> height=<:image height:>> <: iterator separator images 
              :> 
              <hr noshade size="1">
              <: iterator end images :> &nbsp; <br>
        </table>
</td>
</tr>
</table>

  <p>
    <input type="submit" name="save"
           value="  <: ifnew :>Add New<: or :>Update<: eif :> <: articleType:>  "></p>
  </form>
<:if children:> <a name="children"></a> 
<table border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
    <tr>
      <td>
      <table border=0 cellpadding="6" cellspacing="1">
        <tr>
          <th>Title</th>
          <th>Summary</th>
          <th>Listed</th>
          <th>&nbsp;</th>
        </tr>
        <tr> 
          <td colspan="4" bgcolor="#FFFFFF">Reorder child articles: <a href="/cgi-bin/admin/reorder.pl?parentid=<:article id:>&sort=title&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>">by 
            title</a> | <a href="/cgi-bin/admin/reorder.pl?parentid=<:article id:>&sort=date&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>">by 
            date</a> | <a href="/cgi-bin/admin/reorder.pl?parentid=<:article id:>&reverse=1&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>">reverse 
            order</a></td>
        </tr>
        <:iterator begin children:> 
        <tr bgcolor="#FFFFFF"> 
          <td><a href="<:child admin:>"><:child title:></a></td>
          <td><: summary child body :></td>
          <td align="center"><: is child listed :></td>
          <td nowrap> <a href="/cgi-bin/admin/add.pl?id=<:child id:>">Edit</a> 
            <:if NextChild:> <a href="/cgi-bin/admin/move.pl?id=<:child id:>&d=down&edit=1&all=1"> 
            <img src="/images/admin/move_down.gif" width="17" height="13" alt="Move Down" border="0"></a> 
            <:or NextChild:> <:eif NextChild:> <:if PrevChild:> <a href="/cgi-bin/admin/move.pl?id=<:child id:>&d=up&edit=1&all=1"> 
            <img src="/images/admin/move_up.gif" width="17" height="13" alt="Move Up" border="0"></a> 
            <:or PrevChild:> <:eif PrevChild:> 
            <form action="<:script:>" onSubmit="return window.confirm('Are you sure you want to delete this article')" method=POST>
              <input type=hidden name=id value="<:article id:>">
              <input type=hidden name="deleteid" value="<:child id:>">
              <input type=submit name=remove value="Delete">
            </form>
          </td>
        </tr>
        <:iterator separator children:> <:iterator end children:> 
      </table>
</td>
</tr>
</table>
<:or children:>
<:eif children:>
<:if HaveChildType:>
<:if new:>
<:or new:>
<form action="/cgi-bin/admin/add.pl" method="POST">
<input type=hidden name="parentid" value="<:article id:>">
<p><input type=submit value="Add <:childtype:>"></p>
</form>
<p><:eif new:> <:or HaveChildType:> <:eif HaveChildType:> </p>
<:if new:><:or new:>
<h2><a name="step"></a>Step Products</h2>
<table border="0" cellspacing="0" cellpadding="0" bgcolor='#000000'>
<tr><td>
      <table border="0" cellpadding="6" cellspacing="1">
        <tr>
  <th>Id</th>
  <th>Title</th>
  <th>Release</th>
  <th>Expire</th>
  <th>&nbsp;</th>
</tr>
<:if Kids:>
        <tr> 
          <td colspan="5" bgcolor="#FFFFFF">Reorder stepchild articles: <a href="/cgi-bin/admin/reorder.pl?stepparent=<:article id:>&sort=title&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23step">by 
            title</a> | <a href="/cgi-bin/admin/reorder.pl?stepparent=<:article id:>&sort=date&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23step">by 
            date</a> | <a href="/cgi-bin/admin/reorder.pl?stepparent=<:article id:>&reverse=1&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23step">reverse 
            order</a></td>
        </tr>
<form action="<:script:>" method="POST"><input type="hidden" name="id" value="<:article id:>">
<:iterator begin kids:>
        <tr bgcolor="#FFFFFF"> 
          <td><:kid id:></td>
          <td><:kid title:></td>
          <td><:ifStepKid:> 
            <input type="text" name="release_<:stepkid childId:>" value="<:date stepkid release:>" size=10><:or:>&nbsp;<:eif:></td>
          <td><:ifStepKid:> 
            <input type="text" name="expire_<:stepkid childId:>" value="<:date stepkid expire:>" size=10><:or:>&nbsp;<:eif:></td>
          <td><:movestepkid:> <b><:ifStepKid:><a href="<:script:>?del_stepkid=1&id=<:stepkid parentId:>&stepkid=<:stepkid childId:>">Delete</a><:or:><:eif:> 
            <:edit kid Edit:></b></td>
</tr>
<:iterator end kids:>
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5" align="center"> 
            <input type="submit" name="save_stepkids" value="Save Changes"></td>
</tr>
<:or Kids:>
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5" align="center">No children</td>
</tr>
<:eif Kids:>
</form>
<:if Possibles:>
<form action="<:script:>"><input type="hidden" name="id" value="<:article id:>">
          <tr bgcolor="#FFFFFF"> 
            <td colspan="2"><:possible_stepkids:></td>
            <td> 
              <input type="text" name="release" value="01/01/2000" size="10"></td>
            <td> 
              <input type="text" name="expire" value="31/12/2999" size="10"></td>
            <td> 
              <input type="submit" name="add_stepkid" value="Add Stepkid"></td>
</tr>
</form>
<:or Possibles:><:eif Possibles:>
</table>
</td></tr></table>
<:eif new:>
<a name="stepparents"></a><h3>Step parents</h3>
<table border="0" cellspacing="0" cellpadding="0" bgcolor='#000000'>
<tr><td>
      <table border=0 cellpadding="6" cellspacing="1">
        <tr> 
          <th>Id</th>
          <th>Title</th>
          <th>Release</th>
          <th>Expire</th>
          <th>&nbsp;</th>
        </tr>
        <:if StepParents:> 
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5" align="center">Note: Delete only removes the stepchild 
            relationship. It does not delete the article.</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5">Reorder stepparent articles: <a href="/cgi-bin/admin/reorder.pl?stepchild=<:article id:>&sort=title&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23stepparents">by 
            title</a> | <a href="/cgi-bin/admin/reorder.pl?stepchild=<:product id:>&sort=date&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23stepparents">by 
            date</a> | <a href="/cgi-bin/admin/reorder.pl?stepchild=<:product id:>&reverse=1&refreshto=/cgi-bin/admin/add.pl?id=<:article id:>%23stepparents">reverse 
            order</a></td>
        </tr>
        <form action="<:script:>">
          <input type="hidden" name="id" value="<:article id:>">
          <:iterator begin stepparents:> 
          <tr bgcolor="#FFFFFF"> 
            <td align="center"><a href="<:stepparent_targ admin:>"><:stepparent parentId:></a></td>
            <td><:stepparent_targ title:></td>
            <td> 
              <input type="text" name="release_<:stepparent parentId:>" value="<:date stepparent release:>" size="10">
            </td>
            <td> 
              <input type="text" name="expire_<:stepparent parentId:>" value="<:date stepparent expire:>" size="10">
            </td>
            <td><:movestepparent:> <b><a href="<:script:>?del_stepparent=1&id=<:stepparent childId:>&stepparent=<:stepparent parentId:>">Delete</a> 
              <a href="/cgi-bin/admin/add.pl?id=<:stepparent parentId:>">Edit</a></b></td>
          </tr>
          <:iterator end stepparents:> 
          <tr bgcolor="#FFFFFF"> 
            <td colspan="5" align="center"> 
              <input type="submit" name="save_stepparents" value="Save Changes">
            </td>
          </tr>
        </form>
        <:or StepParents:> 
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5" align="center">No step parents</td>
        </tr>
        <:eif StepParents:> <:if StepparentPossibles:> 
        <form action="<:script:>">
          <input type="hidden" name="id" value="<:article id:>">
          <tr bgcolor="#FFFFFF"> 
            <td colspan=2><:stepparent_possibles:></td>
            <td> 
              <input type="text" name="release" value="01/01/2000" size="10">
            </td>
            <td> 
              <input type="text" name="expire" value="31/12/2999" size="10">
            </td>
            <td> 
              <input type="submit" name="add_stepparent" value="Add!">
            </td>
          </tr>
        </form>
        <:or StepparentPossibles:> 
        <tr bgcolor="#FFFFFF"> 
          <td colspan="5" align="center">No more possible catalogs to add.</td>
        </tr>
        <:eif StepparentPossibles:> 
      </table>
</td></tr>
</table>
</body
></html>
